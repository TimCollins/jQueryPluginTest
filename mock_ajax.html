<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Mock Ajax Testing Environment</title>
    <link rel="stylesheet" media="screen" href="css/qunit-1.15.0.css">
    <script type="text/javascript" src="script/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="script/jquery.mockjax.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("#btnGetFortune").click(function () {

                $.mockjax({
                    url: "/restful/fortune",
                    responseTime: 40,
                    responseText: {
                        status: "success",
                        fortune: "Are you a turtle?"
                    }
                });

                $.getJSON("/restful/fortune", function (response) {
                    if (response.status == "success") {
                        $("#fortune").html("Your fortune is: " + response.fortune);
                    } else {
                        $("#fortune").html("Things do not look good, no fortune was told");
                    }
                });
            });
        });

    </script>
</head>
    <body>
        <input type="button" id="btnGetFortune" value="Get Fortune"/>
        <div id="fortune"></div>
        <p>Stuff goes here.</p>
    </body>
</html>
